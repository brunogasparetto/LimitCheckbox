(function(c,e){var b="limitcheckbox",d={limit:5};function a(g,f){this.options=c.extend({},d,f);this.element=c(g);this.checkboxes=this.element.find("input[type=checkbox]");this.init()}a.prototype={init:function(){var g=this.element.data("limitCheckbox"),f=this;this.remaining=g!==e?parseInt(g,10):this.options.limit;this.element.on("change."+b,"input[type=checkbox]",function(){f.change(this)})},change:function(g){var f=this.remaining;if(g.checked){--this.remaining}else{++this.remaining}if(!f){this.open()}else{if(!this.remaining){this.close()}}},close:function(){this.checkboxes.not(":checked").attr("disabled",true)},open:function(){this.checkboxes.attr("disabled",false)}};c.fn[b]=function(f){if(typeof f=="number"){f={limit:f}}return this.each(function(){if(!c.data(this,"plugin_"+b)){c.data(this,"plugin_"+b,new a(this,f))}})}}(jQuery));